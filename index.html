<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/ice.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/ice.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":3,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="闲看庭前花开落，漫随天外云卷舒。">
<meta property="og:type" content="website">
<meta property="og:title" content="严冰的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="严冰的博客">
<meta property="og:description" content="闲看庭前花开落，漫随天外云卷舒。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="yanbing">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>严冰的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="严冰的博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">严冰的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E5%89%91%E6%8C%87offer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E5%89%91%E6%8C%87offer/" class="post-title-link" itemprop="url">剑指offer</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 20:50:49 / 修改时间：18:01:49" itemprop="dateCreated datePublished" datetime="2020-06-14T20:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E5%89%91%E6%8C%87offer/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E5%89%91%E6%8C%87offer/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>求职在即，《剑指offer》作为大家都推荐的一本应试宝典算法相关资料，确实也有刷一刷的必要。很多题目都比较经典，也涵盖了大多数的算法和数据结构。把自己刷题的过程做一个总结，权当是一个笔记。当前还处在未完成状态，希望自己能坚持做完。</p>
<p>下面为本人在LeetCode上面刷的题目笔记，给出所有代码为本人提交Accepted后记录。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/06/14/%E5%89%91%E6%8C%87offer/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/10.%E8%A7%92%E8%89%B2%E8%B5%84%E6%BA%90%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/10.%E8%A7%92%E8%89%B2%E8%B5%84%E6%BA%90%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">10.角色资源关系管理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/10.%E8%A7%92%E8%89%B2%E8%B5%84%E6%BA%90%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/10.%E8%A7%92%E8%89%B2%E8%B5%84%E6%BA%90%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这个主要是给不同角色分配不同的资源。</p>
<h4 id="角色展示"><a href="#角色展示" class="headerlink" title="角色展示"></a>角色展示</h4><p>角色的展示采用了ElementUI中的Collapse 折叠面板，并且采用了手风琴模式，即一次只打开一个角色，如下图：</p>
<p><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/10%E8%A7%92%E8%89%B2%E5%B1%95%E7%A4%BA.png" alt="img"></p>
<p>角色中资源的展示则采用了ElementUI中的树形控件，管理员可以直接直接点击勾选，然后点击修改按钮，进行资源的分配。</p>
<h4 id="核心思路"><a href="#核心思路" class="headerlink" title="核心思路"></a>核心思路</h4><p>核心代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-collapse v-model=<span class="string">"activeColItem"</span> accordion style=<span class="string">"width: 500px;"</span> @change=<span class="string">"collapseChange"</span>&gt;</span><br><span class="line">&lt;el-collapse-item v-<span class="keyword">for</span>=<span class="string">"(item,index) in roles"</span> :title=<span class="string">"item.nameZh"</span> :name=<span class="string">"item.id"</span> :key=<span class="string">"item.name"</span>&gt;</span><br><span class="line">    &lt;el-card <span class="class"><span class="keyword">class</span></span>=<span class="string">"box-card"</span>&gt;</span><br><span class="line">    &lt;div slot=<span class="string">"header"</span>&gt;</span><br><span class="line">        &lt;span&gt;可访问的资源&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;el-button type="text"</span></span><br><span class="line"><span class="regexp">                    style="color: #f6061b;margin: 0px;float: right; padding: 3px 0;width: 15px;height:15px"</span></span><br><span class="line"><span class="regexp">                    icon="el-icon-delete" @click="deleteRole(item.id,item.nameZh)"&gt;&lt;/</span>el-button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;el-tree :props="props"</span></span><br><span class="line"><span class="regexp">                :key="item.id"</span></span><br><span class="line"><span class="regexp">                :data="treeData"</span></span><br><span class="line"><span class="regexp">                :default-checked-keys="checkedKeys"</span></span><br><span class="line"><span class="regexp">                node-key="id"</span></span><br><span class="line"><span class="regexp">                ref="tree"</span></span><br><span class="line"><span class="regexp">                show-checkbox</span></span><br><span class="line"><span class="regexp">                highlight-current</span></span><br><span class="line"><span class="regexp">                @check-change="handleCheckChange"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>el-tree&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div style="display: flex;justify-content: flex-end;margin-right: 10px"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;el-button size="mini" @click="cancelUpdateRoleMenu"&gt;取消修改&lt;/</span>el-button&gt;</span><br><span class="line">        &lt;el-button type=<span class="string">"primary"</span> size=<span class="string">"mini"</span> @click=<span class="string">"updateRoleMenu(index)"</span>&gt;确认修改&lt;<span class="regexp">/el-button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/el-card&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>el-collapse-item&gt;</span><br><span class="line">&lt;<span class="regexp">/el-collapse&gt;</span></span><br></pre></td></tr></table></figure>
<p>核心思路如下：</p>
<ol>
<li>通过for循环渲染出el-collapse-item，将角色展示出来。</li>
<li>el-collapse-item的内容就是一个树形控件，很明显，树形控件的数量和el-collapse-item的数量是一样多的，但是考虑到el-collapse-item使用了手风琴模式，即一次只有一个折叠面板被打开，因此树形控件的数据源只有一个，即多个树形控件共用一个数据源，为了避免数据紊乱，我采取了这样的数据加载方式：当用户每次点击折叠面板的时候，我都根据当前折叠面板所对应的角色去查询该角色所对应的资源，同时也查询所有的资源，将查到的数据交给树形控件去展示。这样可以避免为每一个树形控件都准备一份数据。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/11.%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/11.%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">11.用户角色关系管理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/11.%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/11.%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这个就是常规的增删改查。</p>
<h4 id="用户展示"><a href="#用户展示" class="headerlink" title="用户展示"></a>用户展示</h4><p>用户的展示使用了ElementUI的 Card卡片 来实现。效果图如下：</p>
<p><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/11%E8%A7%92%E8%89%B2%E5%B1%95%E7%A4%BA.png" alt="img"></p>
<h4 id="角色展示"><a href="#角色展示" class="headerlink" title="角色展示"></a>角色展示</h4><p>角色展示使用了ElementUI的 Tag 标签 来实现，角色后面有一个more按钮，点击之后是一个Popover 弹出框，Popover 弹出框的里边是一个Select 选择器，多选的，可以进行角色的分配。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/12.%E9%83%A8%E9%97%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%BC%96%E5%86%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/12.%E9%83%A8%E9%97%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%BC%96%E5%86%99/" class="post-title-link" itemprop="url">12.部门数据库设计与存储过程编写</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/12.%E9%83%A8%E9%97%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%BC%96%E5%86%99/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/12.%E9%83%A8%E9%97%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%BC%96%E5%86%99/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>部门数据库整体来说还是比较简单，如下：<br><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/12%E9%83%A8%E9%97%A8%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="img"></p>
<p>都是常规字段，脚本可以在项目中下载。depPath是为了查询方便，isParent表示该条是否是父部门。为了简化程序中的逻辑，depPath的设置和isParent的设置我都在存储过程中完成。</p>
<h4 id="添加部门存储过程"><a href="#添加部门存储过程" class="headerlink" title="添加部门存储过程"></a>添加部门存储过程</h4><p>添加部门存储过程如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line"><span class="keyword">USE</span> <span class="string">`vhr`</span>$$</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`addDep`</span>$$</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> DEFINER=<span class="string">`root`</span>@<span class="string">`localhost`</span> <span class="keyword">PROCEDURE</span> <span class="string">`addDep`</span>(<span class="keyword">in</span> depName <span class="built_in">varchar</span>(<span class="number">32</span>),<span class="keyword">in</span> parentId <span class="built_in">int</span>,<span class="keyword">in</span> enabled <span class="built_in">boolean</span>,<span class="keyword">out</span> <span class="keyword">result</span> <span class="built_in">int</span>,<span class="keyword">out</span> result2 <span class="built_in">int</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">declare</span> did <span class="built_in">int</span>;</span><br><span class="line">  <span class="keyword">declare</span> pDepPath <span class="built_in">varchar</span>(<span class="number">64</span>);</span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> department <span class="keyword">set</span> <span class="keyword">name</span>=depName,parentId=parentId,enabled=enabled;</span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">row_count</span>() <span class="keyword">into</span> <span class="keyword">result</span>;</span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">last_insert_id</span>() <span class="keyword">into</span> did;</span><br><span class="line">  <span class="keyword">set</span> result2=did;</span><br><span class="line">  <span class="keyword">select</span> depPath <span class="keyword">into</span> pDepPath <span class="keyword">from</span> department <span class="keyword">where</span> <span class="keyword">id</span>=parentId;</span><br><span class="line">  <span class="keyword">update</span> department <span class="keyword">set</span> depPath=<span class="keyword">concat</span>(pDepPath,<span class="string">'.'</span>,did) <span class="keyword">where</span> <span class="keyword">id</span>=did;</span><br><span class="line">  <span class="keyword">update</span> department <span class="keyword">set</span> isParent=<span class="literal">true</span> <span class="keyword">where</span> <span class="keyword">id</span>=parentId;</span><br><span class="line"><span class="keyword">end</span>$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
<p>关于这个存储过程，我说如下几点：</p>
<ol>
<li><p>该存储过程接收五个参数，三个输入参数分别是部门名称、父部门Id，该部门是否启用，两个输出参数分别表示受影响的行数和插入成功后id的值。</p>
</li>
<li><p>存储过程首先执行插入操作，插入完成后，将受影响行数赋值给result。</p>
</li>
<li><p>然后通过last_insert_id()获取刚刚插入的id，赋给result2。</p>
</li>
<li><p>接下来查询父部门的depPath，并且和刚刚生成的id组合后作为刚刚插入部门的depPath。</p>
</li>
<li><p>将父部门的isParent字段更新为true。</p>
</li>
</ol>
<p>将这些逻辑写在存储过程中，可以简化我们代码中的逻辑。</p>
<h4 id="删除部门存储过程"><a href="#删除部门存储过程" class="headerlink" title="删除部门存储过程"></a>删除部门存储过程</h4><p>删除部门也被我写成了存储过程，主要是因为删除过程也要做好几件事，核心代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line"><span class="keyword">USE</span> <span class="string">`vhr`</span>$$</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`deleteDep`</span>$$</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> DEFINER=<span class="string">`root`</span>@<span class="string">`localhost`</span> <span class="keyword">PROCEDURE</span> <span class="string">`deleteDep`</span>(<span class="keyword">in</span> did <span class="built_in">int</span>,<span class="keyword">out</span> <span class="keyword">result</span> <span class="built_in">int</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">declare</span> ecount <span class="built_in">int</span>;</span><br><span class="line">  <span class="keyword">declare</span> pid <span class="built_in">int</span>;</span><br><span class="line">  <span class="keyword">declare</span> pcount <span class="built_in">int</span>;</span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">into</span> ecount <span class="keyword">from</span> employee <span class="keyword">where</span> departmentId=did;</span><br><span class="line">  if ecount&gt;0 then set result=-1;</span><br><span class="line">  else </span><br><span class="line">  <span class="keyword">select</span> parentId <span class="keyword">into</span> pid <span class="keyword">from</span> department <span class="keyword">where</span> <span class="keyword">id</span>=did;</span><br><span class="line">  <span class="keyword">delete</span> <span class="keyword">from</span> department <span class="keyword">where</span> <span class="keyword">id</span>=did <span class="keyword">and</span> isParent=<span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">row_count</span>() <span class="keyword">into</span> <span class="keyword">result</span>;</span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">into</span> pcount <span class="keyword">from</span> department <span class="keyword">where</span> parentId=pid;</span><br><span class="line">  if pcount=0 then <span class="keyword">update</span> department <span class="keyword">set</span> isParent=<span class="literal">false</span> <span class="keyword">where</span> <span class="keyword">id</span>=pid;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
<p>关于这个存储过程，我说如下几点：</p>
<ol>
<li><p>一个输入参数表示要删除数据的id，一个输出参数表示删除结果。</p>
</li>
<li><p>如果该部门下有员工，则该部门不能被删除。</p>
</li>
<li><p>删除该部门时注意加上条件isParent=false，即父部门不能被删除，这一点我在前端已经做了判断，正常情况下父部门的删除请求不会被发送，但是考虑到前端的数据不能被信任，所以后台我们也要限制。</p>
</li>
<li><p>删除成功之后，查询删除部门的父部门是否还有其他子部门，如果没有，则将父部门的isParent修改为false。</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/14.Tree%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E8%A6%81%E7%82%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/14.Tree%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E8%A6%81%E7%82%B9/" class="post-title-link" itemprop="url">14.Tree树形控件使用要点</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/14.Tree%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E8%A6%81%E7%82%B9/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/14.Tree%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E8%A6%81%E7%82%B9/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>树形控件主要使用了ElementUI中的控件，ElementUI中树的加载可以通过load属性一个一个懒加载，在官方的案例中有这种用法，个人非常不推荐这种用法，很麻烦。我的主要思路如下：</p>
<ol>
<li><p>在页面加载时，我在mounted方法中就去获取了所有的部门数据，然后直接加载到树上（这种方式比较省事，特别是处理后面动态添加删除时很方便，小伙伴在工作中可以根据实际情况选取合适的策略）。核心代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.getRequest(<span class="string">"/system/basic/dep/-1"</span>).then(resp=&gt; &#123;</span><br><span class="line">    _this.treeLoading = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (resp &amp;&amp; resp.status == <span class="number">200</span>) &#123;</span><br><span class="line">    _this.treeData = resp.data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>添加节点时，当服务端添加成功后，会返回刚刚添加的节点的json，通过递归找到这一段json所在的位置，动态假如到树中。核心代码如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">setDataToTree(treeData,pId,respData)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;treeData.length;i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> td = treeData[i];</span><br><span class="line">    <span class="keyword">if</span>(td.id==pId) &#123;</span><br><span class="line">    treeData[i].children=treeData[i].children.concat(respData);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setDataToTree(td.children, pId, respData);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这是通过递归找到添加的位置，动态添加。</p>
</li>
<li><p>删除节点时，当服务端返回删除成功时，一样找到删除节点的位置，动态从树中删除。核心代码如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">deleteLocalDep(treeData,data)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;treeData.length;i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> td = treeData[i];</span><br><span class="line">    <span class="keyword">if</span>(td.id==data.id) &#123;</span><br><span class="line">    treeData.splice(i, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.deleteLocalDep(td.children, data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这也是在删除成功后，通过递归找到删除的位置，动态删除数据。</p>
</li>
<li><p>由于我采用了一次性加载所有部门的策略，所以节点过滤这块特别容易，基本上就是官方案例了。</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/13.%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/13.%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8/" class="post-title-link" itemprop="url">13.递归查询与存储过程调用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/13.%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/13.%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>后台程序也都是常规代码，我们重点关注两点：1.递归调用，2.存储过程调用</p>
<h4 id="递归调用"><a href="#递归调用" class="headerlink" title="递归调用"></a>递归调用</h4><p>由于部门的层级不可控，因此如果我想要获取所有部门的完整json的话，就要采用递归调用，这里的递归调用我们可以利用MyBatis的ResultMap中的collection实现，核心代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;resultMap id=<span class="string">"BaseResultMap"</span> type=<span class="string">"org.sang.bean.Department"</span>&gt;</span><br><span class="line">    &lt;id property=<span class="string">"id"</span> column=<span class="string">"id"</span>/&gt;</span><br><span class="line">    &lt;result column=<span class="string">"name"</span> property=<span class="string">"name"</span>/&gt;</span><br><span class="line">    &lt;result column=<span class="string">"parentId"</span> property=<span class="string">"parentId"</span>/&gt;</span><br><span class="line">    &lt;result column=<span class="string">"isParent"</span> property=<span class="string">"isParent"</span>/&gt;</span><br><span class="line">    &lt;collection property=<span class="string">"children"</span> ofType=<span class="string">"org.sang.bean.Department"</span> select=<span class="string">"org.sang.mapper.DepartmentMapper.getDepByPid"</span> column=<span class="string">"id"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/collection&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>resultMap&gt;</span><br><span class="line">&lt;select id=<span class="string">"getDepByPid"</span> resultMap=<span class="string">"BaseResultMap"</span>&gt;</span><br><span class="line">    select d1.*from department d1 where d1.`parentId`=#&#123;pid&#125; AND d1.enabled=true;</span><br><span class="line">&lt;<span class="regexp">/select&gt;</span></span><br></pre></td></tr></table></figure>
<p>每一个Department中都有一个children属性，getDepByPid方法的返回结果是一个BaseResultMap，BaseResultMap中的collection又将调用getDepByPid方法，通过这种方式我们可以快速实现一个递归调用。Mapper中只需要定义如下方法即可：</p>
<p>List<Department> getDepByPid(Long pid);<br>查询结果如下(部分)：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"id"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">"name"</span>: <span class="string">"股东会"</span>,</span><br><span class="line">        <span class="string">"parentId"</span>: <span class="number">-1</span>,</span><br><span class="line">        <span class="string">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">"children"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">"id"</span>: <span class="number">4</span>,</span><br><span class="line">                <span class="string">"name"</span>: <span class="string">"董事长"</span>,</span><br><span class="line">                <span class="string">"parentId"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="string">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="string">"children"</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="string">"id"</span>: <span class="number">5</span>,</span><br><span class="line">                        <span class="string">"name"</span>: <span class="string">"总经理"</span>,</span><br><span class="line">                        <span class="string">"parentId"</span>: <span class="number">4</span>,</span><br><span class="line">                        <span class="string">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">                        <span class="string">"children"</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="string">"id"</span>: <span class="number">8</span>,</span><br><span class="line">                                <span class="string">"name"</span>: <span class="string">"财务部"</span>,</span><br><span class="line">                                <span class="string">"parentId"</span>: <span class="number">5</span>,</span><br><span class="line">                                <span class="string">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">                                <span class="string">"children"</span>: [],</span><br><span class="line">                                <span class="string">"parent"</span>: <span class="literal">false</span></span><br><span class="line">                            &#125;],</span><br><span class="line">                        <span class="string">"parent"</span>: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="string">"parent"</span>: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">"parent"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h4 id="存储过程调用"><a href="#存储过程调用" class="headerlink" title="存储过程调用"></a>存储过程调用</h4><p>存储过程调用比较简单，以添加部门为例，如下：</p>
<ol>
<li>Mapper中添加如下方法：<br><code>void addDep(@Param(&quot;dep&quot;) Department department);</code></li>
<li>xml中写法如下：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=<span class="string">"addDep"</span> statementType=<span class="string">"CALLABLE"</span>&gt;</span><br><span class="line">    call addDep(#&#123;dep.name,mode=IN,jdbcType=VARCHAR&#125;,#&#123;dep.parentId,mode=IN,jdbcType=INTEGER&#125;,#&#123;dep.enabled,mode=IN,jdbcType=BOOLEAN&#125;,#&#123;dep.result,mode=OUT,jdbcType=INTEGER&#125;,#&#123;dep.id,mode=OUT,jdbcType=BIGINT&#125;)</span><br><span class="line">&lt;<span class="regexp">/select&gt;</span></span><br></pre></td></tr></table></figure>
注意statementType调用表示这是一个存储过程，mode=IN表示这是输入参数，mode=OUT表示这是输出参数，调用成功之后，在service中获取department的id和result字段，就能拿到相应的调用结果了。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/15.%E8%81%8C%E4%BD%8D%E7%AE%A1%E7%90%86%E5%92%8C%E8%81%8C%E7%A7%B0%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/15.%E8%81%8C%E4%BD%8D%E7%AE%A1%E7%90%86%E5%92%8C%E8%81%8C%E7%A7%B0%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">15.职位管理和职称管理功能介绍</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/15.%E8%81%8C%E4%BD%8D%E7%AE%A1%E7%90%86%E5%92%8C%E8%81%8C%E7%A7%B0%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/15.%E8%81%8C%E4%BD%8D%E7%AE%A1%E7%90%86%E5%92%8C%E8%81%8C%E7%A7%B0%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>职位管理和职称管理主要是表格的应用，考虑到这里数据量并不大，因此并未分页，效果如下：</p>
<p>职位管理<br><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/15%E8%81%8C%E4%BD%8D%E7%AE%A1%E7%90%86.png" alt="img"></p>
<p>职称管理<br><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/15%E8%81%8C%E7%A7%B0%E7%AE%A1%E7%90%86.png" alt="img"></p>
<p>两个表格其实差不多，但是有点小差异。职称管理中多了一个职称等级下拉框，其他基本都是一致的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/16.%E7%BB%84%E4%BB%B6%E5%A4%8D%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/16.%E7%BB%84%E4%BB%B6%E5%A4%8D%E7%94%A8/" class="post-title-link" itemprop="url">16.组件复用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/16.%E7%BB%84%E4%BB%B6%E5%A4%8D%E7%94%A8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/16.%E7%BB%84%E4%BB%B6%E5%A4%8D%E7%94%A8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>小伙伴们都看到了，这里两个表格非常像，但是不一样，考虑到两个表格可复用性非常大，因此我创建一个组件PosMana来实现这两个功能，组件注册成功后，按如下方式引用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-tabs v-model=<span class="string">"defaultTab"</span> type=<span class="string">"card"</span>&gt;</span><br><span class="line">    &lt;el-tab-pane label=<span class="string">"部门管理"</span> name=<span class="string">"depMana"</span>&gt;</span><br><span class="line">    &lt;dep-mana&gt;&lt;<span class="regexp">/dep-mana&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>el-tab-pane&gt;</span><br><span class="line">    &lt;el-tab-pane label=<span class="string">"职位管理"</span> name=<span class="string">"positionMana"</span>&gt;</span><br><span class="line">    &lt;pos-mana state=<span class="string">"position"</span>&gt;&lt;<span class="regexp">/pos-mana&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>el-tab-pane&gt;</span><br><span class="line">    &lt;el-tab-pane label=<span class="string">"职称管理"</span> name=<span class="string">"jobTitleMana"</span>&gt;</span><br><span class="line">    &lt;pos-mana state=<span class="string">"jobtitle"</span>&gt;&lt;<span class="regexp">/pos-mana&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>el-tab-pane&gt;</span><br><span class="line">    &lt;el-tab-pane label=<span class="string">"奖惩规则"</span> name=<span class="string">"ecCfg"</span>&gt;</span><br><span class="line">    &lt;ec-mana&gt;&lt;<span class="regexp">/ec-mana&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>el-tab-pane&gt;</span><br><span class="line">    &lt;el-tab-pane label=<span class="string">"权限组"</span> name=<span class="string">"menuRole"</span>&gt;</span><br><span class="line">    &lt;menu-role&gt;&lt;<span class="regexp">/menu-role&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>el-tab-pane&gt;</span><br><span class="line">&lt;<span class="regexp">/el-tabs&gt;</span></span><br></pre></td></tr></table></figure>
<p>大家注意职位管理和职称管理是同一个组件，但是state参数不一样。在组件中，我将根据state参数来决定表格的显示样式，请求的地址等。如：</p>
<h4 id="表格是否显示职称等级列"><a href="#表格是否显示职称等级列" class="headerlink" title="表格是否显示职称等级列"></a>表格是否显示职称等级列</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column</span><br><span class="line">    prop=<span class="string">"titleLevel"</span></span><br><span class="line">    label=<span class="string">"职称级别"</span></span><br><span class="line">    width=<span class="string">"180"</span></span><br><span class="line">    align=<span class="string">"left"</span> v-<span class="keyword">if</span>=<span class="string">"state=='jobtitle'"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/el-table-column&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#### 职位名称or职称名称</span></span><br><span class="line"><span class="regexp">&lt;el-table-column</span></span><br><span class="line"><span class="regexp">    prop="name"</span></span><br><span class="line"><span class="regexp">    :label="state=='position'?'职位名称':'职称名称'"</span></span><br><span class="line"><span class="regexp">    width="180"</span></span><br><span class="line"><span class="regexp">    align="left"&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>el-table-column&gt;</span><br></pre></td></tr></table></figure>

<h4 id="增删改地址"><a href="#增删改地址" class="headerlink" title="增删改地址"></a>增删改地址</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">doDelete(ids)&#123;</span><br><span class="line"><span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">_this.loading = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> url = <span class="keyword">this</span>.state == <span class="string">'position'</span> ? <span class="string">'/system/basic/position/'</span> : <span class="string">'/system/basic/joblevel/'</span>;</span><br><span class="line"><span class="keyword">this</span>.deleteRequest(url + ids).then(<span class="function"><span class="params">resp</span>=&gt;</span> &#123;</span><br><span class="line">    _this.loading = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (resp &amp;&amp; resp.status == <span class="number">200</span>) &#123;</span><br><span class="line">    _this.loadTableData();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>动态资源都根据state来动态调整，详细的小伙伴们可以参考vuehr\src\components\system\basic\PosMana.vue组件。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/17.[%E9%A2%98%E5%A4%96%E8%AF%9D]%E5%88%A9%E7%94%A8git%E6%A0%87%E7%AD%BE%E5%9B%9E%E9%80%80%E8%87%B3%E4%BB%BB%E6%84%8F%E7%89%88%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/17.%5B%E9%A2%98%E5%A4%96%E8%AF%9D%5D%E5%88%A9%E7%94%A8git%E6%A0%87%E7%AD%BE%E5%9B%9E%E9%80%80%E8%87%B3%E4%BB%BB%E6%84%8F%E7%89%88%E6%9C%AC/" class="post-title-link" itemprop="url">17.[题外话]利用git标签回退至任意版本</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/17.%5B%E9%A2%98%E5%A4%96%E8%AF%9D%5D%E5%88%A9%E7%94%A8git%E6%A0%87%E7%AD%BE%E5%9B%9E%E9%80%80%E8%87%B3%E4%BB%BB%E6%84%8F%E7%89%88%E6%9C%AC/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/17.%5B%E9%A2%98%E5%A4%96%E8%AF%9D%5D%E5%88%A9%E7%94%A8git%E6%A0%87%E7%AD%BE%E5%9B%9E%E9%80%80%E8%87%B3%E4%BB%BB%E6%84%8F%E7%89%88%E6%9C%AC/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>由于本项目在不停的更新，小伙伴们的需求不尽相同，有的小伙伴可能只需要看权限管理模块，有的小伙伴需要看部门管理等等。因此，我现在给每一次的提交都打了tag，下面我简单介绍下tag的用法。</p>
<p>当小伙伴从GitHub上将项目克隆下来之后，可以通过git tag命令来查看当前有哪些tag，如下：</p>
<p><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/17gittag.png" alt="img"></p>
<p>tag的版本号就是提交的日期，小伙伴可以根据readme文档中的更新记录来确定你想回到哪一个版本中，比如我想退回到v20180107这个版本去，此时通过git show v20180107命令来查看对应的版本号，如下：</p>
<p><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/17show.png" alt="img"></p>
<p>commit后面的就是对应的提交版本号，然后通过git reset –hard 5eb9cf18a命令即可回到只有权限管理模块的时代。如下：</p>
<p><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/17rest.png" alt="img"></p>
<p>以上命令可以帮助小伙伴在任意版本之间跳跃。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/18.%E5%91%98%E5%B7%A5%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/child.jpg">
      <meta itemprop="name" content="yanbing">
      <meta itemprop="description" content="闲看庭前花开落，漫随天外云卷舒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="严冰的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/18.%E5%91%98%E5%B7%A5%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">18.员工基本信息管理功能介绍</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-14 17:50:49 / 修改时间：18:01:37" itemprop="dateCreated datePublished" datetime="2020-06-14T17:50:49+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">人力资源管理项目笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/18.%E5%91%98%E5%B7%A5%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/18.%E5%91%98%E5%B7%A5%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>由于员工的高级信息依赖于其他模块，因此这里暂时没有做这个功能，只做了普通的增删改查，后面可能还会再添加一个高级搜索功能(暂定)。目前完成的功能如下：</p>
<ol>
<li><p>添加员工<br><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/18%E6%B7%BB%E5%8A%A0%E5%91%98%E5%B7%A5.png" alt="img"></p>
</li>
<li><p>修改员工信息<br><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/18%E4%BF%AE%E6%94%B9%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF.png" alt="img"></p>
</li>
<li><p>删除员工<br><img src="../%E9%A1%B9%E7%9B%AE%E5%9B%BE%E7%89%87/18%E5%88%A0%E9%99%A4%E5%91%98%E5%B7%A5.png" alt="img"></p>
</li>
</ol>
<p>除此之外，还有分页、批量删除、基本搜索等功能。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="yanbing"
      src="/images/child.jpg">
  <p class="site-author-name" itemprop="name">yanbing</p>
  <div class="site-description" itemprop="description">闲看庭前花开落，漫随天外云卷舒。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yanbingzn" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yanbingzn" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://me.csdn.net/i_silence" title="csdn → https:&#x2F;&#x2F;me.csdn.net&#x2F;i_silence" rel="noopener" target="_blank"><i class="fab fa-arrows-alt fa-fw"></i>csdn</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://wpa.qq.com/msgrd?v=3&uin=2814825681&site=qq&menu=yes" title="qq → http:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;2814825681&amp;site&#x3D;qq&amp;menu&#x3D;yes" rel="noopener" target="_blank"><i class="fab fa-qq fa-fw"></i>qq</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/6685015114" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;6685015114" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yanbing</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('[object Object]', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'DlT8ADAo4EcbSWK4bq6AlcJ1-gzGzoHsz',
      appKey     : 'D5hJDo89WlY0e9sbVCfXl6XR',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>


<script type="text/javascript"
color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

</body>
</html>
